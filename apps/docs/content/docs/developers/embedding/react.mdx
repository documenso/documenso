---
title: React Components
description: Embed document signing in React applications using iframe.
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

Embed Documenso's signing experience directly in your React application using an iframe wrapper component. This approach provides full control over the signing flow with event callbacks for document completion, field signing, and error handling.

## Prerequisites

Before embedding, you need:

1. A Documenso account with embedding enabled
2. A signing token from either:
   - A sent document (from the distribute endpoint)
   - A direct template link

---

## Basic Component

Create a reusable component that wraps the Documenso signing iframe:

```tsx
import { useCallback, useEffect, useRef } from 'react';

type DocumensoEmbedProps = {
  token: string;
  type?: 'sign' | 'direct';
  host?: string;
  name?: string;
  lockName?: boolean;
  allowDocumentRejection?: boolean;
  darkModeDisabled?: boolean;
  onDocumentReady?: () => void;
  onDocumentCompleted?: (data: DocumentCompletedData) => void;
  onDocumentRejected?: (data: DocumentRejectedData) => void;
  onDocumentError?: () => void;
  onFieldSigned?: (data: FieldSignedData) => void;
  onFieldUnsigned?: (data: FieldUnsignedData) => void;
  className?: string;
};

type DocumentCompletedData = {
  token: string;
  documentId: number;
  envelopeId: string;
  recipientId: number;
};

type DocumentRejectedData = {
  token: string;
  documentId: number;
  envelopeId: string;
  recipientId: number;
  reason?: string;
};

type FieldSignedData = {
  fieldId?: number;
  value?: string;
  isBase64?: boolean;
};

type FieldUnsignedData = {
  fieldId?: number;
};

export const DocumensoEmbed = ({
  token,
  type = 'sign',
  host = 'https://app.documenso.com',
  name,
  lockName = false,
  allowDocumentRejection = false,
  darkModeDisabled = false,
  onDocumentReady,
  onDocumentCompleted,
  onDocumentRejected,
  onDocumentError,
  onFieldSigned,
  onFieldUnsigned,
  className,
}: DocumensoEmbedProps) => {
  const iframeRef = useRef<HTMLIFrameElement>(null);

  const handleMessage = useCallback(
    (event: MessageEvent) => {
      if (event.origin !== host) {
        return;
      }

      const { action, data } = event.data;

      switch (action) {
        case 'document-ready':
          onDocumentReady?.();
          break;
        case 'document-completed':
          onDocumentCompleted?.(data);
          break;
        case 'document-rejected':
          onDocumentRejected?.(data);
          break;
        case 'document-error':
          onDocumentError?.();
          break;
        case 'field-signed':
          onFieldSigned?.(data);
          break;
        case 'field-unsigned':
          onFieldUnsigned?.(data);
          break;
      }
    },
    [
      host,
      onDocumentReady,
      onDocumentCompleted,
      onDocumentRejected,
      onDocumentError,
      onFieldSigned,
      onFieldUnsigned,
    ],
  );

  useEffect(() => {
    window.addEventListener('message', handleMessage);
    return () => window.removeEventListener('message', handleMessage);
  }, [handleMessage]);

  // Build configuration hash
  const config = {
    name,
    lockName,
    allowDocumentRejection,
    darkModeDisabled,
  };

  const hash = btoa(encodeURIComponent(JSON.stringify(config)));
  const embedUrl = `${host}/embed/${type}/${token}#${hash}`;

  return (
    <iframe
      ref={iframeRef}
      src={embedUrl}
      className={className}
      style={{ border: 'none', width: '100%', height: '100%' }}
      allow="clipboard-write"
    />
  );
};
```

---

## Usage

### Sign a Document

Embed a document that was sent for signing:

```tsx
import { DocumensoEmbed } from './documenso-embed';

const SigningPage = () => {
  const handleCompleted = (data) => {
    console.log('Document signed:', data.documentId);
    // Redirect or update UI
  };

  return (
    <div style={{ height: '800px' }}>
      <DocumensoEmbed
        token="abc123xyz"
        type="sign"
        onDocumentCompleted={handleCompleted}
        onDocumentReady={() => console.log('Ready to sign')}
      />
    </div>
  );
};
```

### Direct Template Signing

Embed a direct template link for self-service signing:

```tsx
import { DocumensoEmbed } from './documenso-embed';

const DirectSigningPage = () => {
  return (
    <div style={{ height: '800px' }}>
      <DocumensoEmbed
        token="direct-template-token"
        type="direct"
        name="John Smith"
        lockName={true}
        allowDocumentRejection={true}
        onDocumentCompleted={(data) => {
          window.location.href = '/thank-you';
        }}
      />
    </div>
  );
};
```

---

## Props Reference

| Prop                     | Type                   | Default                       | Description                                           |
| ------------------------ | ---------------------- | ----------------------------- | ----------------------------------------------------- |
| `token`                  | string                 | required                      | Signing token from distribute response or direct link |
| `type`                   | `'sign'` \| `'direct'` | `'sign'`                      | Embed type: document signing or direct template       |
| `host`                   | string                 | `'https://app.documenso.com'` | Documenso instance URL                                |
| `name`                   | string                 | -                             | Pre-fill signer's name                                |
| `lockName`               | boolean                | `false`                       | Prevent signer from changing their name               |
| `allowDocumentRejection` | boolean                | `false`                       | Show reject document option                           |
| `darkModeDisabled`       | boolean                | `false`                       | Disable dark mode in embed                            |
| `className`              | string                 | -                             | CSS class for the iframe                              |

---

## Event Callbacks

### onDocumentReady

Fired when the signing interface has loaded and is ready for interaction.

```tsx
<DocumensoEmbed
  token="abc123"
  onDocumentReady={() => {
    setLoading(false);
  }}
/>
```

### onDocumentCompleted

Fired when the recipient completes signing all required fields.

```tsx
type DocumentCompletedData = {
  token: string;
  documentId: number;
  envelopeId: string;
  recipientId: number;
};

<DocumensoEmbed
  token="abc123"
  onDocumentCompleted={(data) => {
    console.log(`Document ${data.documentId} completed`);
    // Save to your database, redirect, etc.
  }}
/>;
```

### onDocumentRejected

Fired when the recipient rejects the document. Requires `allowDocumentRejection={true}`.

```tsx
type DocumentRejectedData = {
  token: string;
  documentId: number;
  envelopeId: string;
  recipientId: number;
  reason?: string;
};

<DocumensoEmbed
  token="abc123"
  allowDocumentRejection={true}
  onDocumentRejected={(data) => {
    console.log('Rejected:', data.reason);
  }}
/>;
```

### onDocumentError

Fired when an error occurs during the signing process.

```tsx
<DocumensoEmbed
  token="abc123"
  onDocumentError={() => {
    setError('An error occurred while signing');
  }}
/>
```

### onFieldSigned

Fired when a field is signed or filled. Useful for tracking progress.

```tsx
type FieldSignedData = {
  fieldId?: number;
  value?: string;
  isBase64?: boolean; // true for signature images
};

<DocumensoEmbed
  token="abc123"
  onFieldSigned={(data) => {
    console.log(`Field ${data.fieldId} signed`);
    updateProgress();
  }}
/>;
```

### onFieldUnsigned

Fired when a field value is cleared.

```tsx
type FieldUnsignedData = {
  fieldId?: number;
};

<DocumensoEmbed
  token="abc123"
  onFieldUnsigned={(data) => {
    console.log(`Field ${data.fieldId} cleared`);
  }}
/>;
```

---

## Styling

### Custom Dimensions

The iframe requires explicit dimensions. Set these on the container:

```tsx
<div style={{ width: '100%', height: '100vh' }}>
  <DocumensoEmbed token="abc123" />
</div>
```

Or with Tailwind CSS:

```tsx
<div className="h-screen w-full">
  <DocumensoEmbed token="abc123" className="rounded-lg" />
</div>
```

### CSS Variables (Enterprise)

Enterprise plans can customize the embed appearance using CSS variables:

```tsx
const config = {
  name: 'John Smith',
  cssVars: {
    primary: '#0066cc',
    primaryForeground: '#ffffff',
    background: '#f5f5f5',
    foreground: '#1a1a1a',
    border: '#e0e0e0',
    radius: '0.5rem',
  },
};

const hash = btoa(encodeURIComponent(JSON.stringify(config)));
const embedUrl = `https://app.documenso.com/embed/sign/${token}#${hash}`;
```

Available CSS variables:

| Variable                | Description                    |
| ----------------------- | ------------------------------ |
| `background`            | Base background color          |
| `foreground`            | Base text color                |
| `primary`               | Primary button/action color    |
| `primaryForeground`     | Primary button text color      |
| `secondary`             | Secondary button color         |
| `secondaryForeground`   | Secondary button text color    |
| `muted`                 | Muted background color         |
| `mutedForeground`       | Muted text color               |
| `border`                | Default border color           |
| `input`                 | Input field border color       |
| `ring`                  | Focus ring color               |
| `radius`                | Border radius (e.g., `0.5rem`) |
| `card`                  | Card background color          |
| `cardForeground`        | Card text color                |
| `cardBorder`            | Card border color              |
| `destructive`           | Error/danger color             |
| `destructiveForeground` | Error text color               |

---

## TypeScript Types

Full TypeScript definitions for the embed component:

```typescript
// Event data types
export type DocumentCompletedData = {
  token: string;
  documentId: number;
  envelopeId: string;
  recipientId: number;
};

export type DocumentRejectedData = {
  token: string;
  documentId: number;
  envelopeId: string;
  recipientId: number;
  reason?: string;
};

export type FieldSignedData = {
  fieldId?: number;
  value?: string;
  isBase64?: boolean;
};

export type FieldUnsignedData = {
  fieldId?: number;
};

// CSS variables for theming (Enterprise)
export type CssVars = {
  background?: string;
  foreground?: string;
  muted?: string;
  mutedForeground?: string;
  popover?: string;
  popoverForeground?: string;
  card?: string;
  cardBorder?: string;
  cardForeground?: string;
  border?: string;
  input?: string;
  primary?: string;
  primaryForeground?: string;
  secondary?: string;
  secondaryForeground?: string;
  accent?: string;
  accentForeground?: string;
  destructive?: string;
  destructiveForeground?: string;
  ring?: string;
  radius?: string;
};

// Embed configuration
export type EmbedConfig = {
  name?: string;
  lockName?: boolean;
  email?: string;
  lockEmail?: boolean;
  allowDocumentRejection?: boolean;
  darkModeDisabled?: boolean;
  css?: string;
  cssVars?: CssVars;
};

// Component props
export type DocumensoEmbedProps = {
  token: string;
  type?: 'sign' | 'direct';
  host?: string;
  className?: string;
  onDocumentReady?: () => void;
  onDocumentCompleted?: (data: DocumentCompletedData) => void;
  onDocumentRejected?: (data: DocumentRejectedData) => void;
  onDocumentError?: () => void;
  onFieldSigned?: (data: FieldSignedData) => void;
  onFieldUnsigned?: (data: FieldUnsignedData) => void;
} & EmbedConfig;
```

---

## Examples

### Full Integration with Loading State

```tsx
import { useState } from 'react';

import { DocumensoEmbed } from './documenso-embed';

type SigningStatus = 'loading' | 'ready' | 'completed' | 'rejected' | 'error';

const DocumentSigning = ({ token }: { token: string }) => {
  const [status, setStatus] = useState<SigningStatus>('loading');
  const [rejectionReason, setRejectionReason] = useState<string>();

  if (status === 'completed') {
    return (
      <div className="py-12 text-center">
        <h2 className="text-2xl font-bold">Document Signed</h2>
        <p>Thank you for signing the document.</p>
      </div>
    );
  }

  if (status === 'rejected') {
    return (
      <div className="py-12 text-center">
        <h2 className="text-2xl font-bold">Document Rejected</h2>
        <p>Reason: {rejectionReason || 'No reason provided'}</p>
      </div>
    );
  }

  if (status === 'error') {
    return (
      <div className="py-12 text-center">
        <h2 className="text-2xl font-bold text-red-600">Error</h2>
        <p>An error occurred. Please try again.</p>
      </div>
    );
  }

  return (
    <div className="relative h-screen">
      {status === 'loading' && (
        <div className="absolute inset-0 flex items-center justify-center bg-white">
          <div className="border-primary h-8 w-8 animate-spin rounded-full border-4 border-t-transparent" />
        </div>
      )}
      <DocumensoEmbed
        token={token}
        allowDocumentRejection={true}
        onDocumentReady={() => setStatus('ready')}
        onDocumentCompleted={() => setStatus('completed')}
        onDocumentRejected={(data) => {
          setRejectionReason(data.reason);
          setStatus('rejected');
        }}
        onDocumentError={() => setStatus('error')}
      />
    </div>
  );
};
```

### With Progress Tracking

```tsx
import { useState } from 'react';

import { DocumensoEmbed } from './documenso-embed';

const SigningWithProgress = ({ token, totalFields }: { token: string; totalFields: number }) => {
  const [signedFields, setSignedFields] = useState(0);

  const progress = Math.round((signedFields / totalFields) * 100);

  return (
    <div className="flex h-screen flex-col">
      <div className="border-b p-4">
        <div className="flex items-center gap-4">
          <div className="h-2 flex-1 rounded-full bg-gray-200">
            <div
              className="bg-primary h-2 rounded-full transition-all"
              style={{ width: `${progress}%` }}
            />
          </div>
          <span className="text-sm text-gray-600">
            {signedFields} of {totalFields} fields
          </span>
        </div>
      </div>
      <div className="flex-1">
        <DocumensoEmbed
          token={token}
          onFieldSigned={() => setSignedFields((prev) => prev + 1)}
          onFieldUnsigned={() => setSignedFields((prev) => Math.max(0, prev - 1))}
        />
      </div>
    </div>
  );
};
```

### Self-Hosted Instance

```tsx
<DocumensoEmbed
  token="abc123"
  host="https://documenso.yourcompany.com"
  onDocumentCompleted={handleCompleted}
/>
```

---

## Security Considerations

<Callout type="warn">
  The embed uses `postMessage` for communication. Always validate the `origin` of incoming messages
  matches your Documenso host.
</Callout>

The component validates message origins automatically, but if implementing your own:

```tsx
window.addEventListener('message', (event) => {
  // Validate origin
  if (event.origin !== 'https://app.documenso.com') {
    return;
  }
  // Process message
});
```

---

## Troubleshooting

### Embed not loading

- Verify the token is valid and the document status is `PENDING`
- Check that embedding is enabled for your plan
- Ensure the host URL is correct

### Events not firing

- Confirm the `origin` in your message handler matches the embed host
- Check browser console for errors
- Verify the iframe has loaded before expecting events

### Styling issues

- Ensure the container has explicit height
- CSS variables require an Enterprise plan with whitelabeling enabled

---

## Related

- [Direct Links](/docs/developers/embedding/direct-links) - Use signing URLs directly
- [Documents API](/docs/developers/api/documents) - Create documents for embedding
- [Templates API](/docs/developers/api/templates) - Create direct link templates
- [Webhooks](/docs/developers/webhooks) - Server-side signing notifications
